<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/profiles/showFavorites.css" />
<%- include('../partials/nav') %>

<main>
  <h1><%= title %></h1>

  <div class="card-container">

    <% favGames.forEach(favGame => { %>
      <a href="/games/<%= favGame._id %>">
        <div class="card">
          <div class="card-text">

            <h1 class="card-title"><%= favGame.name %></h1>
            <span class="fa-layers fa-fw" id="score-shape-number">
              <i class="fa-solid fa-shield fa-2xl" id="score-shape"></i>
              <span class="fa-layers-text fa-inverse" data-fa-transform="up-10 right-4" id="score-number">
                  <%= favGame.avgRating ? favGame.avgRating : "NR" %>
              </span>
            </span>
          </div>

          <img 
            src="<%= favGame.imgUrl %>" 
            alt="<%= favGame.name %>"
          >
          
          <% if (isSelf) {%> 
            <form id="remove-fav-form" action="/profiles/<%= profile._id %>/favorites/<%= favGame._id %>?_method=DELETE" method="POST">
              <button type="submit" id="remove-fav-btn">
                <i class="fa-solid fa-heart-circle-minus fa-xl"></i>
              </button>
            </form>
          <% } %>
        </div>
      </a>
    <% }) %>
  </div>
</main>

<%- include('../partials/footer') %>